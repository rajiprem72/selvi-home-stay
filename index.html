<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Selvi Home Stay — Booking Form</title>
<style>
  body{font-family:system-ui,Segoe UI,Roboto,Arial;margin:0;padding:0;background:#f7f7f8;color:#222}
  .container{max-width:800px;margin:24px auto;padding:20px;background:#fff;border-radius:8px;box-shadow:0 6px 24px rgba(0,0,0,0.06)}
  h1{margin-top:0;text-align:center}
  label{display:block;margin-top:10px;font-weight:500}
  input,textarea{width:100%;padding:8px;border:1px solid #ccc;border-radius:6px}
  button{margin-top:15px;padding:10px 16px;border:none;background:#0b74de;color:#fff;border-radius:8px;cursor:pointer;font-size:15px}
  .success{color:green;margin-top:12px}
  .error{color:red;margin-top:12px}
  .muted{color:#555;font-size:13px}
</style>
</head>
<body>
<div class="container">
  <h1>Selvi Home Stay – Booking Form</h1>
  <p class="muted">Please fill in your booking details below. Check-in and check-out dates must be in <b>YYYY-MM-DD</b> format.</p>

  <form id="bookingForm">
    <label>Name <input type="text" name="Name" required></label>
    <label>Aadhaar Number <input type="text" name="Aadhaar" required></label>
    <label>Mobile Number <input type="text" name="Mobile" required></label>
    <label>Address <textarea name="Address" rows="2" required></textarea></label>

    <label>From Date <input type="date" name="FromDate" required></label>
    <label>To Date <input type="date" name="ToDate" required></label>

    <label>Payment Date <input type="date" name="PaymentDate" required></label>
    <label>Payment Reference Number <input type="text" name="PaymentRefNo" required></label>
    <label>Payment Amount (₹) <input type="number" name="PaymentAmount" required></label>

    <button type="submit">Submit Booking</button>
  </form>

  <div id="result"></div>
</div>

<script>
const GS_WEBAPP_URL = 'PASTE_YOUR_APPS_SCRIPT_WEBAPP_URL_HERE';

document.getElementById('bookingForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const form = e.target;
  const data = Object.fromEntries(new FormData(form).entries());
  data.action = 'create_booking';
  data.Source = 'Website';
  const resultDiv = document.getElementById('result');
  resultDiv.textContent = 'Submitting...';
  try {
    const res = await fetch(GS_WEBAPP_URL, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify(data)
    });
    const json = await res.json();
    if(json.error){
      resultDiv.innerHTML = `<div class="error">Error: ${json.error}</div>`;
    } else {
      resultDiv.innerHTML = `<div class="success">✅ Booking received!<br>Booking ID: <b>${json.bookingId}</b><br>Total Amount: ₹${json.total}</div>`;
      form.reset();
    }
  } catch(err){
    resultDiv.innerHTML = `<div class="error">Error: ${err.message}</div>`;
  }
});
</script>
</body>
</html>
